<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.18.0/vis.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.18.0/vis.min.css" rel="stylesheet" type="text/css" />

 <style type="text/css">
    #Xmynetwork {
      width: 600px;
      height: 400px;
      border: 1px solid lightgray;
    }
  </style>

</head>

<body>

<div id="mynetwork"></div>

<script type="text/javascript">

function loadJSON(path, success, error) {
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function () {
    if (xhr.readyState === 4) {
      if (xhr.status === 200) {
        success(JSON.parse(xhr.responseText));
      }
      else {
        error(xhr);
      }
    }
  };
  xhr.open('GET', path, true);
  xhr.send();
}


  var network;

  var nodes = new vis.DataSet();
  var edges = new vis.DataSet();
  var gephiImported;

  var nodeContent = document.getElementById('nodeContent');

  loadJSON('http://localhost:8080/v1/tables/df9378eb-dd25-11e6-94ac-578f473db333', redrawAll, function(err) {console.log('error')});

  var container = document.getElementById('mynetwork');
  var data = {
    nodes: nodes,
    edges: edges
  };
  var Xoptions = {
    nodes: {
      shape: 'dot',
      font: {
        face: 'Tahoma'
      }
    },
    edges: {
      width: 0.15,
      smooth: {
        type: 'continuous'
      }
    },
    interaction: {
      tooltipDelay: 200,
      hideEdgesOnDrag: true
    },
    physics: {
      stabilization: false,
      barnesHut: {
        gravitationalConstant: -10000,
        springConstant: 0.002,
        springLength: 150
      }
    }
  };

var options = {
                layout: {
                    hierarchical: {
                        direction: 'UD'
                    }
                },
physics: {
            enabled: false
        }
            };

  network = new vis.Network(container, data, options);

  /**
   * This function fills the DataSets. These DataSets will update the network.
   */
  function redrawAll(gephiJSON) {


    nodes.clear();
    edges.clear();

    // add the parsed data to the DataSets.
    nodes.add(gephiJSON['nodes']);
    edges.add(gephiJSON['edges']);
    network.fit(); // zoom to fit
  }

</script>


</head>


</body>
</html>
